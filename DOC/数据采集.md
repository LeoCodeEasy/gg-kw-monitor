# 数据采集模块

## 功能概述
自动采集Google搜索广告数据，包括广告内容、链接和落地页信息。

## 详细功能

### 1. 搜索结果采集
- 支持多个地区的Google搜索
- 自动处理搜索结果页面
- 提取广告标题和链接
- 记录采集时间戳

### 2. 落地页处理
- 自动访问广告链接
- 处理URL重定向
- 保存最终落地页URL
- 生成落地页截图

### 3. 数据结构
```json
{
  "task": {
    "keyword": "搜索关键词",
    "market": "搜索地区",
    "timestamp": "采集时间"
  },
  "results": [
    {
      "title": "广告标题",
      "display_url": "展示URL",
      "destination_url": "最终URL",
      "screenshot_path": "截图路径",
      "collected_at": "数据采集时间"
    }
  ]
}
```

### 4. 采集流程
1. 获取待采集关键词列表
2. 设置目标市场和搜索参数
3. 执行搜索并提取广告数据
4. 处理广告链接和落地页
5. 保存采集结果

### 5. 异常处理
- 搜索失败重试机制
- 链接访问超时处理
- 截图失败后的重试
- 数据保存失败恢复

### 6. 性能优化
- 并发采集控制
- 请求间隔调整
- 资源使用优化
- 采集任务队列

### 7. 数据验证
- 广告数据完整性检查
- URL格式验证
- 截图质量确认
- 时间戳格式检查
