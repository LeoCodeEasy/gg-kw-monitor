# Google关键词监控系统 - AI 开发指南

## 1. 项目上下文

### 1.1 业务场景
- 用户需要监控竞争对手在 Google 上的广告投放策略
- 需要及时发现新的广告创意和落地页变化
- 支持多个地区市场的数据对比分析

### 1.2 技术约束
- 需要处理 Google 反爬虫机制
- 确保数据采集的实时性和准确性
- 处理多地区 IP 代理和请求限制

## 2. 代码组织

### 2.1 目录结构
```
/
├── static/           # 前端静态资源
│   ├── js/          # JavaScript 文件
│   └── css/         # 样式文件
├── templates/        # HTML 模板
├── data/            # 数据存储
│   ├── keywords/    # 关键词配置
│   └── results/     # 监控结果
└── scripts/         # 爬虫脚本
```

### 2.2 数据结构
```json
// keywords.json - 关键词配置
{
  "keywords": [
    {
      "id": "keyword_id",
      "text": "关键词文本",
      "status": "enabled/disabled",
      "markets": ["us", "uk"]
    }
  ]
}

// results.json - 监控结果
{
  "keyword_id": "关键词ID",
  "market": "市场",
  "timestamp": "采集时间",
  "ads": [
    {
      "title": "广告标题",
      "display_url": "显示URL",
      "final_url": "最终URL",
      "screenshot": "截图路径"
    }
  ]
}
```

## 3. 核心功能

### 3.1 关键词管理
- 支持关键词批量导入和验证
- 关键词状态实时同步
- 多市场关键词配置

### 3.2 数据采集
- 多线程并发采集
- 智能请求间隔控制
- IP 代理池自动切换
- 失败重试机制

### 3.3 数据处理
- URL 规范化和去重
- 广告内容相似度计算
- 落地页快照对比
- 数据变更检测

### 3.4 搜索和筛选
- 实时关键词搜索
- 市场筛选
- 结果即时更新

## 4. 注意事项

### 4.1 性能优化
- 使用异步任务处理大量请求
- 实现数据缓存机制
- 采用增量更新策略

### 4.2 错误处理
- 完善的异常捕获机制
- 详细的错误日志记录
- 自动恢复和降级策略

### 4.3 安全考虑
- 防止 IP 被封禁
- 保护敏感数据
- 控制请求频率
